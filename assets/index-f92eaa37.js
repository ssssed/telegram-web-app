import{j as s,u as o,h as _,R as h}from"./index-0ece7fa1.js";import{u,a as x,b as j}from"./useTelegram-9cee60e8.js";const g=({avatar:a,name:e,text:t,counter:c})=>s.jsxs("div",{className:"message",children:[s.jsxs("div",{className:"message__head",children:[s.jsx("img",{className:"message__img",src:a,alt:e}),s.jsx("p",{className:"message__name",children:e})]}),s.jsxs("div",{className:"message__content",children:[s.jsx("p",{className:"message__text",children:t}),s.jsx("div",{className:"message__counter",children:c})]})]}),N=({id:a,title:e,user_name:t,user_avatar:c,message:n,message_count:r,onClick:i})=>s.jsxs("div",{className:"card",children:[s.jsx("p",{className:"card__status",children:"Есть непрочитанные сообщения"}),s.jsxs("ul",{className:"card__info",children:[s.jsxs("li",{className:"card__category",children:["Вакансия: ",e]}),s.jsxs("li",{className:"card__category",children:["# ",a]})]}),s.jsx(g,{name:t,avatar:c,text:n,counter:r}),s.jsx("button",{className:"card__button",onClick:i,children:"Открыть диалог"})]}),p=a=>{const e=o(),t=u(),{id:c,message:n,message_count:r,title:i,user_avatar:l,user_name:d}=a,m=()=>{t(_(a)),e(`/chat/${a.id}`)};return s.jsx(N,{id:c,title:i,message_count:r,message:n,user_name:d,user_avatar:l,onClick:m})},y=()=>{var t,c;const a=x(),{cards:e}=j(n=>n.chat);return s.jsxs(h.Fragment,{children:[s.jsxs("span",{children:[(t=a.initDataUnsafe.user)==null?void 0:t.username," ",(c=a.initDataUnsafe.user)==null?void 0:c.first_name]}),s.jsx("div",{className:"cards",children:e.map(n=>s.jsx(p,{...n},n.id))})]})};export{y as default};
